
        // Data 50 pengembalian
        const dataKembali = [
            {id:'R001', trx:'T001', kondisi:'Baik', denda:0, tgl:'2025-01-07', catatan:'-'},
            {id:'R002', trx:'T002', kondisi:'Baik', denda:0, tgl:'2025-01-15', catatan:'-'},
            {id:'R003', trx:'T003', kondisi:'Baik', denda:0, tgl:'2025-01-09', catatan:'-'},
            {id:'R004', trx:'T004', kondisi:'Baik', denda:0, tgl:'2025-01-20', catatan:'-'},
            {id:'R005', trx:'T005', kondisi:'Baik', denda:0, tgl:'2025-01-18', catatan:'-'},
            {id:'R006', trx:'T006', kondisi:'Baik', denda:0, tgl:'2025-02-07', catatan:'-'},
            {id:'R007', trx:'T007', kondisi:'Gores kecil', denda:100000, tgl:'2025-02-12', catatan:'Gores di pintu'},
            {id:'R008', trx:'T008', kondisi:'Baik', denda:0, tgl:'2025-02-18', catatan:'-'},
            {id:'R009', trx:'T009', kondisi:'Baik', denda:0, tgl:'2025-03-01', catatan:'-'},
            {id:'R010', trx:'T010', kondisi:'Baik', denda:0, tgl:'2025-03-12', catatan:'-'},
{id:'R011', trx:'T011', kondisi:'Baik', denda:0, tgl:'2025-03-11', catatan:'-'},
            {id:'R012', trx:'T012', kondisi:'Baik', denda:0, tgl:'2025-03-18', catatan:'-'},
            {id:'R013', trx:'T013', kondisi:'Baik', denda:0, tgl:'2025-04-04', catatan:'-'},
            {id:'R014', trx:'T014', kondisi:'Baik', denda:0, tgl:'2025-04-06', catatan:'-'},
            {id:'R015', trx:'T015', kondisi:'Baik', denda:0, tgl:'2025-04-12', catatan:'-'},
            {id:'R016', trx:'T016', kondisi:'Baik', denda:0, tgl:'2025-04-17', catatan:'-'},
            {id:'R017', trx:'T017', kondisi:'Baik', denda:0, tgl:'2025-04-22', catatan:'-'},
            {id:'R018', trx:'T018', kondisi:'Baik', denda:0, tgl:'2025-04-29', catatan:'-'},
            {id:'R019', trx:'T019', kondisi:'Baik', denda:0, tgl:'2025-04-30', catatan:'-'},
            {id:'R020', trx:'T020', kondisi:'Baik', denda:0, tgl:'2025-05-07', catatan:'-'},
            {id:'R021', trx:'T021', kondisi:'Baik', denda:0, tgl:'2025-05-14', catatan:'-'},
            {id:'R022', trx:'T022', kondisi:'Baik', denda:0, tgl:'2025-05-20', catatan:'-'},
            {id:'R023', trx:'T023', kondisi:'Baik', denda:0, tgl:'2025-05-22', catatan:'-'},
            {id:'R024', trx:'T024', kondisi:'Baik', denda:0, tgl:'2025-06-05', catatan:'-'},
            {id:'R025', trx:'T025', kondisi:'Baik', denda:0, tgl:'2025-06-10', catatan:'-'},
            {id:'R026', trx:'T026', kondisi:'Baik', denda:0, tgl:'2025-06-12', catatan:'-'},
            {id:'R027', trx:'T027', kondisi:'Baik', denda:0, tgl:'2025-06-18', catatan:'-'},
            {id:'R028', trx:'T028', kondisi:'Baik', denda:0, tgl:'2025-06-25', catatan:'-'},
            {id:'R029', trx:'T029', kondisi:'Baik', denda:0, tgl:'2025-07-03', catatan:'-'},
            {id:'R030', trx:'T030', kondisi:'Baik', denda:0, tgl:'2025-07-08', catatan:'-'},
            {id:'R031', trx:'T031', kondisi:'Baik', denda:0, tgl:'2025-07-11', catatan:'-'},
            {id:'R032', trx:'T032', kondisi:'Baik', denda:0, tgl:'2025-07-15', catatan:'-'},
            {id:'R033', trx:'T033', kondisi:'Baik', denda:0, tgl:'2025-07-18', catatan:'-'},
            {id:'R034', trx:'T034', kondisi:'Baik', denda:0, tgl:'2025-07-25', catatan:'-'},
            {id:'R035', trx:'T035', kondisi:'Baik', denda:0, tgl:'2025-08-05', catatan:'-'},
            {id:'R036', trx:'T036', kondisi:'Baik', denda:0, tgl:'2025-08-07', catatan:'-'},
            {id:'R037', trx:'T037', kondisi:'Baik', denda:0, tgl:'2025-08-12', catatan:'-'},
            {id:'R038', trx:'T038', kondisi:'Baik', denda:0, tgl:'2025-08-16', catatan:'-'},
            {id:'R039', trx:'T039', kondisi:'Baik', denda:0, tgl:'2025-08-22', catatan:'-'},
            {id:'R040', trx:'T040', kondisi:'Baik', denda:0, tgl:'2025-08-28', catatan:'-'},
            {id:'R041', trx:'T041', kondisi:'Baik', denda:0, tgl:'2025-09-01', catatan:'-'},
            {id:'R042', trx:'T042', kondisi:'Baik', denda:0, tgl:'2025-09-03', catatan:'-'},
            {id:'R043', trx:'T043', kondisi:'Baik', denda:0, tgl:'2025-09-11', catatan:'-'},
            {id:'R044', trx:'T044', kondisi:'Baik', denda:0, tgl:'2025-09-13', catatan:'-'},
            {id:'R045', trx:'T045', kondisi:'Baik', denda:0, tgl:'2025-09-16', catatan:'-'},
            {id:'R046', trx:'T046', kondisi:'Baik', denda:0, tgl:'2025-09-22', catatan:'-'},
            {id:'R047', trx:'T047', kondisi:'Baik', denda:0, tgl:'2025-09-25', catatan:'-'},
            {id:'R048', trx:'T048', kondisi:'Baik', denda:0, tgl:'2025-09-29', catatan:'-'},
            {id:'R049', trx:'T049', kondisi:'Baik', denda:0, tgl:'2025-10-03', catatan:'-'},
            {id:'R050', trx:'T050', kondisi:'Baik', denda:0, tgl:'2025-10-09', catatan:'-'}
        ];

        // Load data ke tabel
        function loadData() {
            const tbody = document.getElementById('tableBody');
            tbody.innerHTML = '';
            dataKembali.forEach(d => {
                const badge = d.kondisi === 'Baik' ? 'badge-success' : 'badge-warning';
                const row = `<tr>
                    <td>${d.id}</td>
                    <td>${d.trx}</td>
                    <td><span class="badge ${badge}">${d.kondisi}</span></td>
                    <td>Rp ${d.denda.toLocaleString('id-ID')}</td>
                    <td>${d.tgl}</td>
                    <td>${d.catatan}</td>
                    <td style="text-align: center;">
                        <div class="action-buttons">
                            <button class="btn btn-info" onclick="viewData('${d.id}')">üëÅÔ∏è</button>
                            <button class="btn btn-warning" onclick="editData('${d.id}')">‚úèÔ∏è</button>
                            <button class="btn btn-danger" onclick="deleteData('${d.id}')">üóëÔ∏è</button>
                        </div>
                    </td>
                </tr>`;
                tbody.innerHTML += row;
            });
        }

        window.onload = loadData;

        function openAddModal() {
            document.getElementById('modalTitle').textContent = 'Tambah Transaksi Pengembalian';
            document.getElementById('pengembalianForm').reset();
            document.getElementById('id_kembali').readOnly = false;
            document.getElementById('formModal').classList.add('active');
        }

        function closeModal() {
            document.getElementById('formModal').classList.remove('active');
        }

        function closeDetailModal() {
            document.getElementById('detailModal').classList.remove('active');
        }

        function viewData(id) {
            const data = dataKembali.find(d => d.id === id);
            if(data) {
                document.getElementById('detail_id_kembali').textContent = data.id;
                document.getElementById('detail_id_transaksi').textContent = data.trx;
                document.getElementById('detail_kondisi').innerHTML = `<span class="badge ${data.kondisi === 'Baik' ? 'badge-success' : 'badge-warning'}">${data.kondisi}</span>`;
                document.getElementById('detail_denda').textContent = 'Rp ' + data.denda.toLocaleString('id-ID');
                document.getElementById('detail_tanggal').textContent = data.tgl;
                document.getElementById('detail_catatan').textContent = data.catatan;
            }
            document.getElementById('detailModal').classList.add('active');
        }

        function editData(id) {
            const data = dataKembali.find(d => d.id === id);
            if(data) {
                document.getElementById('modalTitle').textContent = 'Edit Transaksi Pengembalian';
                document.getElementById('id_kembali').value = data.id;
                document.getElementById('id_transaksi').value = data.trx;
                document.getElementById('kondisi_mobil').value = data.kondisi;
                document.getElementById('biaya_denda').value = data.denda;
                document.getElementById('tanggal_kembali').value = data.tgl;
                document.getElementById('catatan').value = data.catatan;
                document.getElementById('id_kembali').readOnly = true;
                document.getElementById('formModal').classList.add('active');
            }
        }

        function deleteData(id) {
            if(confirm('Apakah Anda yakin ingin menghapus transaksi pengembalian ini?')) {
                alert('Transaksi pengembalian dengan ID ' + id + ' berhasil dihapus!');
            }
        }

        function updateDenda() {
            const kondisiSelect = document.getElementById('kondisi_mobil');
            const selected = kondisiSelect.options[kondisiSelect.selectedIndex];
            const denda = selected.getAttribute('data-denda');
            document.getElementById('biaya_denda').value = denda || 0;
        }

        function saveData(event) {
            event.preventDefault();
            const id = document.getElementById('id_kembali').value;
            alert('Data berhasil disimpan! ID: ' + id);
            closeModal();
        }

        function searchTable() {
            const input = document.getElementById('searchInput');
            const filter = input.value.toLowerCase();
            const table = document.getElementById('dataTable');
            const tr = table.getElementsByTagName('tr');
            for (let i = 1; i < tr.length; i++) {
                let found = false;
                const td = tr[i].getElementsByTagName('td');
                for (let j = 0; j < td.length; j++) {
                    if (td[j]) {
                        const txtValue = td[j].textContent || td[j].innerText;
                        if (txtValue.toLowerCase().indexOf(filter) > -1) {
                            found = true;
                            break;
                        }
                    }
                }
                tr[i].style.display = found ? '' : 'none';
            }
        }

        function filterTable() {
            const filter = document.getElementById('filterKondisi').value.toLowerCase();
            const table = document.getElementById('dataTable');
            const tr = table.getElementsByTagName('tr');
            for (let i = 1; i < tr.length; i++) {
                const td = tr[i].getElementsByTagName('td');
                const kondisi = td[2].textContent || td[2].innerText;
                if (filter === '' || kondisi.toLowerCase().indexOf(filter) > -1) {
                    tr[i].style.display = '';
                } else {
                    tr[i].style.display = 'none';
                }
            }
        }

        window.onclick = function(event) {
            const formModal = document.getElementById('formModal');
            const detailModal = document.getElementById('detailModal');
            if (event.target === formModal) closeModal();
            if (event.target === detailModal) closeDetailModal();
        }
    